import{S as xe,i as $e,s as et,k as b,a as M,l as E,m as I,h as v,c as H,n as f,a9 as Oe,b as G,F as r,R as lt,Q as de,a1 as ue,P as at,K as Ne,L as ze,M as j,V as tt,q as K,y as ye,r as U,z as Ce,A as Se,u as se,v as nt,d as ae,f as ot,g as ne,B as Ve,o as rt}from"./index.426091fe.js";import{I as st,T as ct,S as it,i as ft,m as ce,c as le,A as dt,b as ie}from"./ComponentRegistry.211d853a.js";function ut(l){const e=["ArrowRight","ArrowUp","ArrowLeft","ArrowDown","Home","End"],t=a=>{if(e.includes(a.code))switch(a.preventDefault(),a.code){case"ArrowUp":fe(l,0,-1);break;case"ArrowDown":fe(l,0,1);break;case"ArrowLeft":fe(l,-1,0);break;case"ArrowRight":fe(l,1,0);break;case"Home":Ke(l,"first");break;case"End":Ke(l,"last");break}};return l.addEventListener("keydown",t),{destroy(){l.removeEventListener("keydown",t)}}}function fe(l,e,t){const a=document.activeElement;if(!a||!a.parentElement||!a.parentElement.ariaRowIndex||!a.ariaColIndex)return;const o=parseInt(a.parentElement.ariaRowIndex),s=parseInt(a.ariaColIndex),n=l.querySelector(`[aria-rowindex="${o+t}"]`);if(n!==null){const m=n.querySelector(`[aria-colindex="${s+e}"]`);m!==null&&m.focus()}}function ht(l){const e=document.activeElement;if(!e||!e.parentElement||!e.parentElement.ariaRowIndex)return null;const t=parseInt(e.parentElement.ariaRowIndex);return l.querySelector(`[aria-rowindex="${t}"]`)}function Ke(l,e="first"){const t=ht(l);if(t===null)return;const a=t.children.length,o=e==="first"?1:a,s=t.querySelector(`[aria-colindex="${o}"]`);s!==null&&s.focus()}function vt(l,e){return l.map(t=>{const a={};return e.forEach(o=>a[o]=t[o]),a})}function _t(l){return l.map(e=>Object.values(e))}function De(l,e){return _t(vt(l,e))}function Ue(l,e,t){const a=l.slice();return a[19]=e[t],a}function je(l,e,t){const a=l.slice();return a[22]=e[t],a[24]=t,a}function Ge(l,e,t){const a=l.slice();return a[19]=e[t],a[26]=t,a}function Je(l,e,t){const a=l.slice();return a[27]=e[t],a}function Qe(l){let e,t=l[27]+"";return{c(){e=b("th"),this.h()},l(a){e=E(a,"TH",{class:!0});var o=I(e);o.forEach(v),this.h()},h(){f(e,"class",l[3])},m(a,o){G(a,e,o),e.innerHTML=t},p(a,o){o&1&&t!==(t=a[27]+"")&&(e.innerHTML=t),o&8&&f(e,"class",a[3])},d(a){a&&v(e)}}}function We(l){let e,t=(l[19]?l[19]:"-")+"";return{c(){e=b("td"),this.h()},l(a){e=E(a,"TD",{class:!0,role:!0,"aria-colindex":!0,tabindex:!0});var o=I(e);o.forEach(v),this.h()},h(){f(e,"class",l[5]),f(e,"role","gridcell"),f(e,"aria-colindex",l[26]+1),f(e,"tabindex",l[26]===0?0:-1)},m(a,o){G(a,e,o),e.innerHTML=t},p(a,o){o&1&&t!==(t=(a[19]?a[19]:"-")+"")&&(e.innerHTML=t),o&32&&f(e,"class",a[5])},d(a){a&&v(e)}}}function Ye(l){let e,t,a,o,s=l[22],n=[];for(let h=0;h<s.length;h+=1)n[h]=We(Ge(l,s,h));function m(...h){return l[15](l[24],...h)}function u(...h){return l[16](l[24],...h)}return{c(){e=b("tr");for(let h=0;h<n.length;h+=1)n[h].c();t=M(),this.h()},l(h){e=E(h,"TR",{"aria-rowindex":!0});var C=I(e);for(let _=0;_<n.length;_+=1)n[_].l(C);t=H(C),C.forEach(v),this.h()},h(){f(e,"aria-rowindex",l[24]+1)},m(h,C){G(h,e,C);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(e,null);r(e,t),a||(o=[j(e,"click",m),j(e,"keydown",u)],a=!0)},p(h,C){if(l=h,C&33){s=l[22];let _;for(_=0;_<s.length;_+=1){const L=Ge(l,s,_);n[_]?n[_].p(L,C):(n[_]=We(L),n[_].c(),n[_].m(e,t))}for(;_<n.length;_+=1)n[_].d(1);n.length=s.length}},d(h){h&&v(e),ue(n,h),a=!1,tt(o)}}}function Xe(l){let e,t,a,o=l[0].foot,s=[];for(let n=0;n<o.length;n+=1)s[n]=Ze(Ue(l,o,n));return{c(){e=b("tfoot"),t=b("tr");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=E(n,"TFOOT",{class:!0});var m=I(e);t=E(m,"TR",{});var u=I(t);for(let h=0;h<s.length;h+=1)s[h].l(u);u.forEach(v),m.forEach(v),this.h()},h(){f(e,"class",a="table-foot "+l[6])},m(n,m){G(n,e,m),r(e,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null)},p(n,m){if(m&129){o=n[0].foot;let u;for(u=0;u<o.length;u+=1){const h=Ue(n,o,u);s[u]?s[u].p(h,m):(s[u]=Ze(h),s[u].c(),s[u].m(t,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=o.length}m&64&&a!==(a="table-foot "+n[6])&&f(e,"class",a)},d(n){n&&v(e),ue(s,n)}}}function Ze(l){let e,t=l[19]+"";return{c(){e=b("td"),this.h()},l(a){e=E(a,"TD",{class:!0});var o=I(e);o.forEach(v),this.h()},h(){f(e,"class",l[7])},m(a,o){G(a,e,o),e.innerHTML=t},p(a,o){o&1&&t!==(t=a[19]+"")&&(e.innerHTML=t),o&128&&f(e,"class",a[7])},d(a){a&&v(e)}}}function mt(l){let e,t,a,o,s,n,m,u,h,C,_,L,q=l[0].head,k=[];for(let d=0;d<q.length;d+=1)k[d]=Qe(Je(l,q,d));let F=l[0].body,g=[];for(let d=0;d<F.length;d+=1)g[d]=Ye(je(l,F,d));let w=l[0].foot&&Xe(l);return{c(){e=b("div"),t=b("table"),a=b("thead"),o=b("tr");for(let d=0;d<k.length;d+=1)k[d].c();n=M(),m=b("tbody");for(let d=0;d<g.length;d+=1)g[d].c();h=M(),w&&w.c(),this.h()},l(d){e=E(d,"DIV",{class:!0});var D=I(e);t=E(D,"TABLE",{class:!0,role:!0});var i=I(t);a=E(i,"THEAD",{class:!0});var c=I(a);o=E(c,"TR",{});var V=I(o);for(let P=0;P<k.length;P+=1)k[P].l(V);V.forEach(v),c.forEach(v),n=H(i),m=E(i,"TBODY",{class:!0});var O=I(m);for(let P=0;P<g.length;P+=1)g[P].l(O);O.forEach(v),h=H(i),w&&w.l(i),i.forEach(v),D.forEach(v),this.h()},h(){f(a,"class",s="table-head "+l[2]),f(m,"class",u="table-body "+l[4]),f(t,"class",l[8]),f(t,"role","grid"),Oe(t,"table-interactive",l[1]),f(e,"class",C="table-container "+l[9])},m(d,D){G(d,e,D),r(e,t),r(t,a),r(a,o);for(let i=0;i<k.length;i+=1)k[i]&&k[i].m(o,null);r(t,n),r(t,m);for(let i=0;i<g.length;i+=1)g[i]&&g[i].m(m,null);r(t,h),w&&w.m(t,null),_||(L=lt(ut.call(null,t)),_=!0)},p(d,[D]){if(D&9){q=d[0].head;let i;for(i=0;i<q.length;i+=1){const c=Je(d,q,i);k[i]?k[i].p(c,D):(k[i]=Qe(c),k[i].c(),k[i].m(o,null))}for(;i<k.length;i+=1)k[i].d(1);k.length=q.length}if(D&4&&s!==(s="table-head "+d[2])&&f(a,"class",s),D&3105){F=d[0].body;let i;for(i=0;i<F.length;i+=1){const c=je(d,F,i);g[i]?g[i].p(c,D):(g[i]=Ye(c),g[i].c(),g[i].m(m,null))}for(;i<g.length;i+=1)g[i].d(1);g.length=F.length}D&16&&u!==(u="table-body "+d[4])&&f(m,"class",u),d[0].foot?w?w.p(d,D):(w=Xe(d),w.c(),w.m(t,null)):w&&(w.d(1),w=null),D&256&&f(t,"class",d[8]),D&258&&Oe(t,"table-interactive",d[1]),D&512&&C!==(C="table-container "+d[9])&&f(e,"class",C)},i:de,o:de,d(d){d&&v(e),ue(k,d),ue(g,d),w&&w.d(),_=!1,L()}}}function gt(l,e,t){let a,o;const s=at();let{source:n}=e,{interactive:m=!1}=e,{element:u="table"}=e,{text:h=""}=e,{color:C=""}=e,{regionHead:_=""}=e,{regionHeadCell:L=""}=e,{regionBody:q=""}=e,{regionCell:k=""}=e,{regionFoot:F=""}=e,{regionFootCell:g=""}=e;function w(c,V){if(!m)return;c.preventDefault(),c.stopPropagation();const O=n.meta?n.meta[V]:n.body[V];s("selected",O)}function d(c,V){["Enter","Space"].includes(c.code)&&w(c,V)}const D=(c,V)=>{w(V,c)},i=(c,V)=>{d(V,c)};return l.$$set=c=>{t(18,e=Ne(Ne({},e),ze(c))),"source"in c&&t(0,n=c.source),"interactive"in c&&t(1,m=c.interactive),"element"in c&&t(12,u=c.element),"text"in c&&t(13,h=c.text),"color"in c&&t(14,C=c.color),"regionHead"in c&&t(2,_=c.regionHead),"regionHeadCell"in c&&t(3,L=c.regionHeadCell),"regionBody"in c&&t(4,q=c.regionBody),"regionCell"in c&&t(5,k=c.regionCell),"regionFoot"in c&&t(6,F=c.regionFoot),"regionFootCell"in c&&t(7,g=c.regionFootCell)},l.$$.update=()=>{t(9,a=`${e.class||""}`),l.$$.dirty&28672&&t(8,o=`${u} ${h} ${C}`)},e=ze(e),[n,m,_,L,q,k,F,g,o,a,w,d,u,h,C,D,i]}class bt extends xe{constructor(e){super(),$e(this,e,gt,mt,et,{source:0,interactive:1,element:12,text:13,color:14,regionHead:2,regionHeadCell:3,regionBody:4,regionCell:5,regionFoot:6,regionFootCell:7})}}const Et={refresh:{width:1536,height:1792,paths:[{d:"M1511 1056q0 5-1 7-64 268-268 434.5t-478 166.5q-146 0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26 19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187 36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5 9.5t9.5 22.5zM1536 256v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45 19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53 117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268 270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45 19 19 45z"}]}};function It(l){let e,t,a,o,s,n,m,u,h,C,_,L,q,k,F,g,w,d,D,i,c,V,O,P,B,N,J;return{c(){e=b("div"),t=b("div"),o=M(),s=b("div"),n=b("div"),m=b("div"),h=M(),C=b("div"),L=M(),q=b("div"),F=M(),g=b("div"),d=M(),D=b("div"),c=M(),V=b("div"),P=M(),B=b("div"),this.h()},l(S){e=E(S,"DIV",{class:!0});var y=I(e);t=E(y,"DIV",{class:!0}),I(t).forEach(v),o=H(y),s=E(y,"DIV",{});var A=I(s);n=E(A,"DIV",{class:!0});var T=I(n);m=E(T,"DIV",{class:!0}),I(m).forEach(v),h=H(T),C=E(T,"DIV",{class:!0}),I(C).forEach(v),L=H(T),q=E(T,"DIV",{class:!0}),I(q).forEach(v),F=H(T),g=E(T,"DIV",{class:!0}),I(g).forEach(v),d=H(T),D=E(T,"DIV",{class:!0}),I(D).forEach(v),c=H(T),V=E(T,"DIV",{class:!0}),I(V).forEach(v),P=H(T),B=E(T,"DIV",{class:!0}),I(B).forEach(v),T.forEach(v),A.forEach(v),y.forEach(v),this.h()},h(){f(t,"class",a="placeholder h-20 "+l[3]),f(m,"class",u="placeholder w-1/7 h-24 "+l[3]),f(C,"class",_="placeholder w-1/7 "+l[3]),f(q,"class",k="placeholder w-1/7 "+l[3]),f(g,"class",w="placeholder w-1/7 "+l[3]),f(D,"class",i="placeholder w-1/7 "+l[3]),f(V,"class",O="placeholder w-1/7 "+l[3]),f(B,"class",N="placeholder w-1/7 "+l[3]),f(n,"class",J="flex placeholder h-14 w-full "+l[3]),f(e,"class","mx-2")},m(S,y){G(S,e,y),r(e,t),r(e,o),r(e,s),r(s,n),r(n,m),r(n,h),r(n,C),r(n,L),r(n,q),r(n,F),r(n,g),r(n,d),r(n,D),r(n,c),r(n,V),r(n,P),r(n,B)},p(S,y){y&8&&a!==(a="placeholder h-20 "+S[3])&&f(t,"class",a),y&8&&u!==(u="placeholder w-1/7 h-24 "+S[3])&&f(m,"class",u),y&8&&_!==(_="placeholder w-1/7 "+S[3])&&f(C,"class",_),y&8&&k!==(k="placeholder w-1/7 "+S[3])&&f(q,"class",k),y&8&&w!==(w="placeholder w-1/7 "+S[3])&&f(g,"class",w),y&8&&i!==(i="placeholder w-1/7 "+S[3])&&f(D,"class",i),y&8&&O!==(O="placeholder w-1/7 "+S[3])&&f(V,"class",O),y&8&&N!==(N="placeholder w-1/7 "+S[3])&&f(B,"class",N),y&8&&J!==(J="flex placeholder h-14 w-full "+S[3])&&f(n,"class",J)},i:de,o:de,d(S){S&&v(e)}}}function pt(l){let e,t,a;return t=new bt({props:{source:l[2]}}),{c(){e=b("div"),ye(t.$$.fragment),this.h()},l(o){e=E(o,"DIV",{class:!0});var s=I(e);Ce(t.$$.fragment,s),s.forEach(v),this.h()},h(){f(e,"class","mx-2")},m(o,s){G(o,e,s),Se(t,e,null),a=!0},p(o,s){const n={};s&4&&(n.source=o[2]),t.$set(n)},i(o){a||(ne(t.$$.fragment,o),a=!0)},o(o){ae(t.$$.fragment,o),a=!1},d(o){o&&v(e),Ve(t)}}}function kt(l){let e,t,a=l[0].name+"",o,s,n,m,u=l[0].ip+"",h,C,_,L,q=l[0].port+"",k,F,g,w,d=l[0].description+"",D,i,c,V,O,P,B,N,J,S,y,A,T,z,Q,he,ve,W,_e,me,Y,ge,be,X,Ee,oe,ee,Z,Ie,Te;N=new st({props:{data:Et}});const Re=[pt,It],x=[];function qe(p,R){return p[1]&&p[1].length>0?0:1}return S=qe(l),y=x[S]=Re[S](l),ee=new ct({}),{c(){e=b("div"),t=b("div"),o=K(a),s=M(),n=b("div"),m=K("IP: "),h=K(u),C=M(),_=b("div"),L=K("Port: "),k=K(q),F=M(),g=b("div"),w=K("Description: "),D=K(d),i=M(),c=b("div"),V=b("h2"),O=K("Instances"),P=M(),B=b("div"),ye(N.$$.fragment),J=M(),y.c(),A=M(),T=b("div"),z=b("div"),Q=b("div"),he=K("Create Instance"),ve=M(),W=b("div"),_e=K("Start Instance"),me=M(),Y=b("div"),ge=K("Stop Instance"),be=M(),X=b("div"),Ee=K("Delete Instance"),oe=M(),ye(ee.$$.fragment),this.h()},l(p){e=E(p,"DIV",{class:!0});var R=I(e);t=E(R,"DIV",{class:!0});var te=I(t);o=U(te,a),te.forEach(v),s=H(R),n=E(R,"DIV",{class:!0});var pe=I(n);m=U(pe,"IP: "),h=U(pe,u),pe.forEach(v),C=H(R),_=E(R,"DIV",{class:!0});var ke=I(_);L=U(ke,"Port: "),k=U(ke,q),ke.forEach(v),F=H(R),g=E(R,"DIV",{class:!0});var we=I(g);w=U(we,"Description: "),D=U(we,d),we.forEach(v),i=H(R),c=E(R,"DIV",{class:!0});var re=I(c);V=E(re,"H2",{class:!0});var Me=I(V);O=U(Me,"Instances"),Me.forEach(v),P=H(re),B=E(re,"DIV",{class:!0});var He=I(B);Ce(N.$$.fragment,He),He.forEach(v),re.forEach(v),J=H(R),y.l(R),R.forEach(v),A=H(p),T=E(p,"DIV",{class:!0});var Ae=I(T);z=E(Ae,"DIV",{class:!0});var $=I(z);Q=E($,"DIV",{class:!0});var Fe=I(Q);he=U(Fe,"Create Instance"),Fe.forEach(v),ve=H($),W=E($,"DIV",{class:!0});var Le=I(W);_e=U(Le,"Start Instance"),Le.forEach(v),me=H($),Y=E($,"DIV",{class:!0});var Pe=I(Y);ge=U(Pe,"Stop Instance"),Pe.forEach(v),be=H($),X=E($,"DIV",{class:!0});var Be=I(X);Ee=U(Be,"Delete Instance"),Be.forEach(v),$.forEach(v),Ae.forEach(v),oe=H(p),Ce(ee.$$.fragment,p),this.h()},h(){f(t,"class","font-bold ml-2"),f(n,"class","ml-2"),f(_,"class","ml-2"),f(g,"class","ml-2"),f(V,"class","m-2"),f(B,"class","btn absolute mr-2 right-0 border"),f(c,"class","flex relative"),f(e,"class","p-2"),f(Q,"class","btn w-36 mb-2 mx-auto bg-secondary-500"),f(W,"class","btn w-36 mb-2 mx-auto bg-success-700"),f(Y,"class","btn w-36 mb-2 mx-auto bg-warning-600 text-black"),f(X,"class","btn w-36 mb-2 mx-auto bg-error-500"),f(z,"class","mx-auto w-40 flex flex-wrap mx-0 w-full"),f(T,"class","flex")},m(p,R){G(p,e,R),r(e,t),r(t,o),r(e,s),r(e,n),r(n,m),r(n,h),r(e,C),r(e,_),r(_,L),r(_,k),r(e,F),r(e,g),r(g,w),r(g,D),r(e,i),r(e,c),r(c,V),r(V,O),r(c,P),r(c,B),Se(N,B,null),r(e,J),x[S].m(e,null),G(p,A,R),G(p,T,R),r(T,z),r(z,Q),r(Q,he),r(z,ve),r(z,W),r(W,_e),r(z,me),r(z,Y),r(Y,ge),r(z,be),r(z,X),r(X,Ee),G(p,oe,R),Se(ee,p,R),Z=!0,Ie||(Te=[j(B,"click",l[9]),j(B,"keydown",l[10]),j(Q,"click",l[11]),j(Q,"keydown",l[12]),j(W,"click",l[13]),j(W,"keydown",l[14]),j(Y,"click",l[15]),j(Y,"keydown",l[16]),j(X,"click",l[17]),j(X,"keydown",l[18])],Ie=!0)},p(p,[R]){(!Z||R&1)&&a!==(a=p[0].name+"")&&se(o,a),(!Z||R&1)&&u!==(u=p[0].ip+"")&&se(h,u),(!Z||R&1)&&q!==(q=p[0].port+"")&&se(k,q),(!Z||R&1)&&d!==(d=p[0].description+"")&&se(D,d);let te=S;S=qe(p),S===te?x[S].p(p,R):(nt(),ae(x[te],1,1,()=>{x[te]=null}),ot(),y=x[S],y?y.p(p,R):(y=x[S]=Re[S](p),y.c()),ne(y,1),y.m(e,null))},i(p){Z||(ne(N.$$.fragment,p),ne(y),ne(ee.$$.fragment,p),Z=!0)},o(p){ae(N.$$.fragment,p),ae(y),ae(ee.$$.fragment,p),Z=!1},d(p){p&&v(e),Ve(N),x[S].d(),p&&v(A),p&&v(T),p&&v(oe),Ve(ee,p),Ie=!1,tt(Te)}}}function wt(l,e,t){let a;const o=["Name","Type","Running","Exit Code","Metrics Port","Commands Port","Process ID"],s=["name","type","isRunning","exitCode","metricsPort","commandsPort","processId"];let{server:n}=e,m=!1,u=[],h={head:o,body:De(u,s)};async function C(){const A=new URL("https://"+n.ip+":"+n.port+dt.SERVERS_INFO);return await fetch(A).then(T=>T.json()).catch(T=>(T.toString()==="TypeError: Failed to fetch"?le.error("Failed to reach server."):le.error("Failed to fetch server info: "+T.toString()),null))}async function _(){t(1,u=[]),t(2,h={head:o,body:De(u,s)}),t(1,u=await C()),u!==null&&u.length>0?(u.forEach(A=>{A.isRunning=A.isRunning.toString(),A.exitCode=A.exitCode.toString(),A.type=it(parseInt(A.type)),ft.addOne(A)}),t(2,h={head:o,body:De(u,s)}),m=!0):(t(3,a=""),m=!1)}rt(()=>{_()});const L={type:"component",component:ie.createInstanceModal},q={type:"component",component:ie.startInstanceModal},k={type:"component",component:ie.stopInstanceModal},F={type:"component",component:ie.deleteInstanceModal};function g(){m?ce.trigger(L):le.error("Cannot perform actions on a server that cannot be reached.")}function w(){m?ce.trigger(q):le.error("Cannot perform actions on a server that cannot be reached.")}function d(){m?ce.trigger(k):le.error("Cannot perform actions on a server that cannot be reached.")}function D(){m?ce.trigger(F):le.error("Cannot perform actions on a server that cannot be reached.")}const i=()=>_(),c=()=>console.log(),V=()=>g(),O=()=>console.log(),P=()=>w(),B=()=>console.log(),N=()=>d(),J=()=>console.log(),S=()=>D(),y=()=>console.log();return l.$$set=A=>{"server"in A&&t(0,n=A.server)},l.$$.update=()=>{l.$$.dirty&2&&t(3,a=u===null?"":"animate-pulse"),l.$$.dirty&1&&n&&_()},[n,u,h,a,_,g,w,d,D,i,c,V,O,P,B,N,J,S,y]}class Ct extends xe{constructor(e){super(),$e(this,e,wt,kt,et,{server:0})}}export{Ct as S};
